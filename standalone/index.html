<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Network</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" type="text/css">
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3.v6.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/dagre-d3@0.6.1/dist/dagre-d3.min.js"></script>
    <link rel="stylesheet" href="styling.css" type="text/css">
    <script type="text/javascript" src="scripts.js"></script>
</head>
<body>
    <div class="title">
        <h1>Source network graph (dynamic)</h1>
    </div>
    <div id="contextMenu" style="display: none; position: absolute; z-index: 1;">
        <input type="button" id="createClusterButton" value="Cluster selected nodes">
        <input type="button" id="removeFromClusterButton" value="Remove selected from clusters">
    </div>
    <div id="page">
        <div id="colorPickerContainer" style="display: none;">
            <input type="color" id="nodeColor" name="nodeColor" value="#ff0000" style="display: none;">
        </div>
        <div id="mynetwork"></div>
        <svg id="d3graph" style="width: 0px; height: 0px;"></svg>
        <div id="info" class="infobox">
            <button class="close-button" id="info-close-button">x</button>
            <div id="infocontent">
                <p><b>Legend:</b></p>
                <p> Each circle is a node; <br> a group of circles is a cluster</p>
                <p><b>Activities:</b></p>
                <p>Select node: <b>left-click node</b></p>
                <p>Select multiple nodes: <b>ctrl+left-click nodes</b></p>
                <p>Group selection of nodes: <b>right-click</b> + <b>Cluster</b> + name the cluster</p>
                <P>Open cluster: <b>double click</b> cluster</P>
                <p>Unselect node/cluster(s): <b>left click</b> on empty page</p>
                <p>Untie the cluster: <b>double left-click</b> cluster (regroup them via the cluster nodes button)</p>
                <br>
                <p>Change colour of node: <b>double left-click</b> on node</p>
                <p>Fixate position of node/cluster: press <b>space bar</b> when dragging to fixate in-place.</p>
            </div>
        </div>
        <div id="tasks" class="infobox">
            <button class="close-button" id="tasks-close-button">x</button>
            <div id="taskscontent">
                <p><b>Cluster additional source types:</b></p>
                <ul style="margin-left: -25px; margin-top: 0px;">
                    <li>Content</li>
                    <li>Spelling</li>
                    <li>Formulation</li>
                    <li>Task</li>
                    <li>Unrelated</li>
                    <li>Other, provide your own typology</li>
                </ul>
            </div> 
        </div>
        <div id="buttons">
            <input type="button" id="toggleButton" value="Toggle view">
            <input type="button" id="uploadButton" value="Upload .gv file">
            <input type="button" id="saveButton" value="Save as .gv file">
            <input type="button" id="clusterButton" value="Cluster nodes">
        </div>
        <div id="myModal" class="modal">
            <div class="modal-content">
                <label for="clusterName"><b>Please enter a name for the cluster:</b></label>
                <input list="clusterNames" id="clusterName" name="clusterName" />
                <datalist id="clusterNames">
                </datalist>
                <div>
                    <button id="submitClusterName">Submit</button>
                    <button id="cancelClusterName">Cancel</button>
                </div>
            </div>
          </div>
    </div>
</body>
</html>
